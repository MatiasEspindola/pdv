<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org">

    <head th:replace="layout/layout :: head"></head>

    <body id="page-top">

        <nav th:replace="layout/layout :: nav"></nav>

        <div id="wrapper">

            <ul th:replace="layout/layout :: sidebar"></ul>

            <div id="content-wrapper">

                <div class="container-fluid">

                    <!-- Breadcrumbs-->
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item">
                            <a th:href="@{/compras/ver_compras}">Compras</a>
                        </li>
                        <li class="breadcrumb-item active">Ver Compras</li>
                    </ol>

                    <!-- Ver Compras -->
                    <div class="card mb-3">
                        <div class="card-header">
                            <i class="fas fa-chart-area"></i>
                            Lista de Compras</div>
                        <div class="card-body">

                            <div class="alert alert-success alert-dismissible fade show" role="alert" th:if="${nuevo != null}" th:text="${nuevo}"> 
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="alert alert-danger alert-dismissible fade show" role="alert" th:if="${eliminar != null}" th:text="${eliminar}">
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="alert alert-warning alert-dismissible fade show" role="alert" th:if="${editar != null}" th:text="${editar}">
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>

                            <table id="tabla" class="table text-center table-hover table-responsive-xl table-bordered" style="width:100%">
                                <thead class="thead-dark">
                                    <tr>
                                        <th>Producto</th>
                                        <th>Descripción</th>
                                        <th>Compra</th>
                                        <th>Entrega</th>
                                        <th>Cantidad</th>
                                        <th>Opciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr th:each="compra : ${compras}">
                                        <td th:text="${compra.producto.nombre}"></td>
                                        <td th:text="${compra.descripcion}"></td>
                                        <td th:text="${compra.fechaCompra}"></td>
                                        <td th:text="${compra.fechaEntrega}"></td>
                                        <td th:text="${compra.cantidad}"></td>
                                        <td>
                                            <a class="btn btn-primary" th:href="@{/compras/detalles/} + ${compra.id}"><i class="fas fa-user" style="color: white; font-size: 15px;"></i></a>
                                            <a class="btn btn-warning" th:href="@{/compras/editar/} + ${compra.id}"><i class="fas fa-user-edit" style="color: white; font-size: 15px;"></i></a>
                                            <a class="btn btn-danger" th:href="@{/compras/borrar/} + ${compra.id}"><i class="fas fa-user-minus" style="color: white; font-size: 15px;"></i></a>
                                        </td>
                                    </tr>
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <th>Producto</th>
                                        <th>Descripción</th>
                                        <th>Compra</th>
                                        <th>Entrega</th>
                                        <th>Cantidad</th>
                                        <th>Opciones</th>
                                    </tr>
                                </tfoot>
                            </table>
                            <br>
                            <a class="btn btn-success" th:href="@{/compras/registrar}"><i class="fas fa-user-plus" style="color:white; font-size: 15px;"></i> Registrar Compra</a>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-8">
                            <div class="card mb-3">
                                <div class="card-header">
                                    <i class="fas fa-chart-area"></i>
                                    Bar Chart Example</div>
                                <div class="card-body">

                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="card mb-3">
                                <div class="card-header">
                                    <i class="fas fa-chart-pie"></i>
                                    Pie Chart Example</div>
                                <div class="card-body">

                                </div>
                            </div>
                        </div>
                    </div>


                </div>
                <!-- /.container-fluid -->



            </div>
            <!-- /.content-wrapper -->

        </div>
        <!-- /#wrapper -->

        <div th:replace="layout/layout :: logout"></div>
        <a th:replace="layout/layout :: scroll"></a>
        <footer th:replace="layout/layout :: footer"></footer>
        <script>
            $(document).ready(function () {
                $('#miTabla').DataTable();
            });
        </script>

    </body>

</html>
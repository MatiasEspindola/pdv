<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <script type="text/javascript" th:fragment="javascript-ac-proveedor">

            $(document).ready(function () {
                $("#buscar_proveedor").autocomplete({
                    source: function (request, response) {
                       
                            $.ajax({
                                url: "/productos/cargar_proveedor/" + request.term,
                                datatype: "json",
                                data: {
                                    term: request.term
                                },
                                success: function (data) {
                                    response($.map(data, function (item) {
                                        return {
                                            value: item.id,
                                            label: item.nombre + ', ' +item.ciudad + ', ' + item.provincia.nombre
                                        };
                                    }));
                                },
                            });
                        
                    },
                    select: function (event, ui) {
                        $("#buscar_proveedor").val(ui.item.label);
                        //$("#buscar_dire").click();

                        $("#ingresar_proveedor").val(ui.item.value);

                        return false;
                    }
                });
            });

        </script>
        
        <script type="text/javascript" th:fragment="javascript-ac-categoria">

            $(document).ready(function () {
                $("#buscar_categoria").autocomplete({
                    source: function (request, response) {
                       
                            $.ajax({
                                url: "/productos/cargar_categoria/" + request.term,
                                datatype: "json",
                                data: {
                                    term: request.term
                                },
                                success: function (data) {
                                    response($.map(data, function (item) {
                                        return {
                                            value: item.id,
                                            label: item.categoria
                                        };
                                    }));
                                },
                            });
                        
                    },
                    select: function (event, ui) {
                        $("#buscar_categoria").val(ui.item.label);
                        //$("#buscar_dire").click();

                        $("#ingresar_categoria").val(ui.item.value);

                        return false;
                    }
                });
            });

        </script>
        
        <script type="text/javascript" th:fragment="javascript-ac-marca">

            $(document).ready(function () {
                $("#buscar_marca").autocomplete({
                    source: function (request, response) {
                       
                            $.ajax({
                                url: "/productos/cargar_marca/" + request.term,
                                datatype: "json",
                                data: {
                                    term: request.term
                                },
                                success: function (data) {
                                    response($.map(data, function (item) {
                                        return {
                                            value: item.id,
                                            label: item.marca
                                        };
                                    }));
                                },
                            });
                        
                    },
                    select: function (event, ui) {
                        $("#buscar_marca").val(ui.item.label);
                        //$("#buscar_dire").click();

                        $("#ingresar_marca").val(ui.item.value);

                        return false;
                    }
                });
            });

        </script>
    </body>
</html>
